params {
  help = false
  fwdprimerlen = 20
  revprimerlen = 24
  fwdlen = 250
  revlen = 240
  model = "../minbreeze-res/qiime2020.2/gg99_138_314f-805r_classifier.qza"
  modeltree = "../minbreeze-res/qiime2020.2/sepp-refs-gg-13-8.qza"
  fwdprimer = "CCTACGGGNGGCWGCAG"
  revprimer = "GACTACHVGGGTATCTAATCC"
  dada {
	pool = "pool"
  }
  refseq = "../minbreeze-res/qiime2020.2/gg99_seq.qza"
  reftax = "../minbreeze-res/qiime2020.2/gg99_tax.qza"
}

env {
	JOBLIB_TEMP_FOLDER="/state/partition9/home/yumyai/tmp"
	TMPDIR="/state/partition9/home/yumyai/tmp"
	NXF_VER="20.01.0"
}

process {
  cpus = 1
  mem = 4.GB
  conda = '/state/partition3/home/yumyai/miniconda3/envs/minflow-0.2/'

  withLabel: big_cpu {
    cpus = 20
    memory = 16.GB
  }
  withLabel: mod_cpu {
    cpus = 10
    memory = 16.GB
  }
  withLabel: big_mem {
    cpus = 1
    memory = 16.GB
  }
  withLabel: dada2 {
	conda = '/state/partition3/home/yumyai/miniconda3/envs/dada2/'
  }
}

profiles {
  standard {
    process.executor = 'local'
  }
  lipid {
    process {
		executor = "pbs"
		//clusterOptions = "-l nodes=compute-0-0+compute-0-1+compute-0-16+compute-0-17+compute-0-18"
		//clusterOptions = "-l nodes=compute-0-0+compute-0-2+compute-0-3"
    }
  }
  conda {
	//  conda = "${baseDir}/environment.yml"
	process.conda = '/state/partition3/home/yumyai/miniconda3/envs/minflow-0.2/'
  }
  test {
    params {
      inputdir = "testin"
      matcher = "*_R{1,2}_001.fastq.gz"
      outputdir = "testout"
      manifest = "testin/manifest.tsv"
    }
  }
}
